import { useState, useEffect } from 'react'

interface SystemMetrics {
  uptime: string
  cpu_usage: number
  memory_usage: number
  active_simulations: number
  total_devices: number
  network_status: 'healthy' | 'warning' | 'critical'
}

interface Alert {
  id: number
  type: 'info' | 'warning' | 'error'
  message: string
  time: string
}

export default function DashboardTab() {
  const [metrics, setMetrics] = useState<SystemMetrics>({
    uptime: '2h 45m',
    cpu_usage: 23,
    memory_usage: 67,
    active_simulations: 3,
    total_devices: 42,
    network_status: 'healthy'
  })

  const [alerts] = useState<Alert[]>([
    { id: 1, type: 'info', message: 'Rel√© 50/51 Bus-4 atualizou configura√ß√£o', time: '14:30' },
    { id: 2, type: 'warning', message: 'Coordena√ß√£o Bus-6/13 requer ajuste', time: '14:25' },
    { id: 3, type: 'info', message: 'RL treinamento epis√≥dio 1247 completo', time: '14:20' }
  ])

  useEffect(() => {
    const interval = setInterval(() => {
      setMetrics(prev => ({
        ...prev,
        cpu_usage: Math.floor(Math.random() * 30) + 15,
        memory_usage: Math.floor(Math.random() * 20) + 60
      }))
    }, 5000)

    return () => clearInterval(interval)
  }, [])

  return (
    <div className="space-y-6">
      {/* Header - Plataforma Offshore */}
      <div className="flex justify-between items-center">
        <h1 className="text-3xl font-bold text-gray-900">üõ¢Ô∏è ProtecAI - Prote√ß√£o El√©trica Offshore 13.8kV</h1>
        <div className="flex space-x-4">
          <div className="px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
            ‚úÖ IEEE 14-Bus Ativo
          </div>
          <div className="px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
            ü§ñ RL Coordena√ß√£o
          </div>
          <div className="px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800">
            üõ°Ô∏è ANSI 50/51/67/87T
          </div>
          <div className="px-3 py-1 rounded-full text-sm font-medium bg-orange-100 text-orange-800">
            ‚ö° 13.8kV Offshore
          </div>
        </div>
      </div>

      {/* M√©tricas de Prote√ß√£o Offshore */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        {/* Barras IEEE 14-Bus */}
        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-blue-500">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Barras IEEE 14-Bus</p>
              <p className="text-3xl font-bold text-blue-600">14</p>
              <p className="text-xs text-green-600">100% Monitoradas</p>
            </div>
            <div className="text-4xl">‚ö°</div>
          </div>
        </div>

        {/* Tens√£o Offshore 13.8kV */}
        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-green-500">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Tens√£o Offshore (kV)</p>
              <p className="text-3xl font-bold text-green-600">13.8</p>
              <p className="text-xs text-green-600">Nominal</p>
            </div>
            <div className="text-4xl">üåä</div>
          </div>
        </div>

        {/* Dispositivos ANSI */}
        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-purple-500">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Dispositivos ANSI</p>
              <p className="text-3xl font-bold text-purple-600">28</p>
              <p className="text-xs text-green-600">50/51/67/87T Ativos</p>
            </div>
            <div className="text-4xl">üõ°Ô∏è</div>
          </div>
        </div>

        {/* Status RL */}
        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-orange-500">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">RL Coordena√ß√£o</p>
              <p className="text-3xl font-bold text-orange-600">98.3%</p>
              <p className="text-xs text-green-600">Efici√™ncia</p>
            </div>
            <div className="text-4xl">üß†</div>
          </div>
        </div>
      </div>

      {/* Status da Prote√ß√£o Offshore */}
      <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
        {/* Dispositivos de Prote√ß√£o ANSI */}
        <div className="bg-white p-6 rounded-xl shadow-lg">
          <h3 className="text-xl font-semibold mb-4">ÔøΩÔ∏è Dispositivos de Prote√ß√£o ANSI</h3>
          <div className="space-y-4">
            <div className="flex justify-between items-center p-3 bg-green-50 rounded-lg">
              <span className="font-medium">Rel√©s 50/51 (Sobrecorrente)</span>
              <span className="text-green-600 font-bold">12/12 ‚úÖ</span>
            </div>
            <div className="flex justify-between items-center p-3 bg-green-50 rounded-lg">
              <span className="font-medium">Rel√©s 67 (Direcional)</span>
              <span className="text-green-600 font-bold">7/7 ‚úÖ</span>
            </div>
            <div className="flex justify-between items-center p-3 bg-green-50 rounded-lg">
              <span className="font-medium">Rel√©s 87T (Diferencial)</span>
              <span className="text-green-600 font-bold">2/2 ‚úÖ</span>
            </div>
            <div className="flex justify-between items-center p-3 bg-yellow-50 rounded-lg">
              <span className="font-medium">Rel√©s 27/59 (Sub/Sobretens√£o)</span>
              <span className="text-yellow-600 font-bold">4/4 ‚ö†Ô∏è</span>
            </div>
          </div>
        </div>

        {/* Alertas Offshore */}
        <div className="bg-white p-6 rounded-xl shadow-lg">
          <h3 className="text-xl font-semibold mb-4">üö® Alertas Plataforma Offshore</h3>
          <div className="space-y-3">
            {alerts.map(alert => (
              <div key={alert.id} className={`p-3 rounded-lg border-l-4 ${
                alert.type === 'warning' ? 'bg-yellow-50 border-yellow-400' :
                alert.type === 'info' ? 'bg-blue-50 border-blue-400' :
                'bg-green-50 border-green-400'
              }`}>
                <div className="flex justify-between items-start">
                  <p className="text-sm font-medium">{alert.message}</p>
                  <span className="text-xs text-gray-500">{alert.time}</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>

      {/* Conformidade Normativa Offshore */}
      <div className="bg-white p-6 rounded-xl shadow-lg">
        <h3 className="text-xl font-semibold mb-4">üìã Conformidade Normativa Offshore</h3>
        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div className="text-center p-4 bg-green-50 rounded-lg">
            <div className="text-2xl font-bold text-green-600 mb-2">‚úÖ</div>
            <div className="text-sm font-medium">IEEE C37.112</div>
            <div className="text-xs text-gray-600">Conforme</div>
          </div>
          <div className="text-center p-4 bg-green-50 rounded-lg">
            <div className="text-2xl font-bold text-green-600 mb-2">‚úÖ</div>
            <div className="text-sm font-medium">IEC 61850</div>
            <div className="text-xs text-gray-600">Conforme</div>
          </div>
          <div className="text-center p-4 bg-green-50 rounded-lg">
            <div className="text-2xl font-bold text-green-600 mb-2">‚úÖ</div>
            <div className="text-sm font-medium">NBR 5410</div>
            <div className="text-xs text-gray-600">Conforme</div>
          </div>
          <div className="text-center p-4 bg-green-50 rounded-lg">
            <div className="text-2xl font-bold text-green-600 mb-2">‚úÖ</div>
            <div className="text-sm font-medium">API RP 14C</div>
            <div className="text-xs text-gray-600">Offshore</div>
          </div>
        </div>
      </div>

      {/* Performance RL e Coordena√ß√£o */}
      <div className="bg-white p-6 rounded-xl shadow-lg">
        <h3 className="text-xl font-semibold mb-4">üìà Performance RL - Coordena√ß√£o Adaptativa</h3>
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div className="text-center">
            <div className="text-4xl font-bold text-blue-600 mb-2">98.7%</div>
            <div className="text-sm text-gray-600">Confiabilidade Offshore</div>
            <div className="text-xs text-gray-500">Ultra-conservadora</div>
          </div>
          <div className="text-center">
            <div className="text-4xl font-bold text-green-600 mb-2">15ms</div>
            <div className="text-sm text-gray-600">Tempo Resposta</div>
            <div className="text-xs text-gray-500">Tempo real</div>
          </div>
          <div className="text-center">
            <div className="text-4xl font-bold text-purple-600 mb-2">+23%</div>
            <div className="text-sm text-gray-600">Melhoria RL</div>
            <div className="text-xs text-gray-500">Coordena√ß√£o otimizada</div>
          </div>
        </div>
      </div>

      {/* A√ß√µes R√°pidas Offshore */}
      <div className="bg-white p-6 rounded-xl shadow-lg">
        <h3 className="text-xl font-semibold mb-4">‚ö° Controle Offshore - A√ß√µes R√°pidas</h3>
        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
          <button className="p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors">
            <div className="text-2xl mb-2">üß™</div>
            <div className="text-sm font-medium">Simula√ß√£o IEEE</div>
          </button>
          <button className="p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors">
            <div className="text-2xl mb-2">ÔøΩÔ∏è</div>
            <div className="text-sm font-medium">Config. ANSI</div>
          </button>
          <button className="p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors">
            <div className="text-2xl mb-2">üß†</div>
            <div className="text-sm font-medium">Treinar RL</div>
          </button>
          <button className="p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors">
            <div className="text-2xl mb-2">ÔøΩ</div>
            <div className="text-sm font-medium">Relat√≥rio 13.8kV</div>
          </button>
        </div>
      </div>
    </div>
  )
}
}
    network_status: 'healthy'
  })

  const [alerts, setAlerts] = useState([
    { id: 1, type: 'warning', message: 'Relay R-12 configura√ß√£o precisa revis√£o', time: '10:30' },
    { id: 2, type: 'info', message: 'Simula√ß√£o de conting√™ncia conclu√≠da com sucesso', time: '10:15' },
    { id: 3, type: 'success', message: 'Otimiza√ß√£o RL melhorou coordena√ß√£o em 15%', time: '09:45' }
  ])

  return (
    <div className="space-y-6">
      {/* Header */}
            {/* Header */}
      <div className="flex justify-between items-center">
        <h1 className="text-3xl font-bold text-gray-900">üõ¢Ô∏è Sistema de Pot√™ncia - Plataforma Offshore</h1>
        <div className="flex space-x-4">
          <div className="px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
            ‚úÖ IEEE 14-Bus Operacional
          </div>
          <div className="px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
            ÔøΩÔ∏è Prote√ß√£o Ativa
          </div>
          <div className="px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800">
            ü§ñ RL Otimizado
          </div>
        </div>
      </div>

      {/* M√©tricas Principais */}
            {/* M√©tricas do Sistema IEEE 14-Bus */}
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-blue-500">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Barras IEEE 14-Bus</p>
              <p className="text-3xl font-bold text-blue-600">14</p>
              <p className="text-xs text-green-600">100% Monitoradas</p>
            </div>
            <div className="text-4xl">‚ö°</div>
          </div>
        </div>

        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-green-500">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Tens√£o M√©dia (pu)</p>
              <p className="text-3xl font-bold text-green-600">1.024</p>
              <p className="text-xs text-green-600">Dentro da faixa</p>
            </div>
            <div className="text-4xl">üìä</div>
          </div>
        </div>

        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-purple-500">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Pot√™ncia Total (MW)</p>
              <p className="text-3xl font-bold text-purple-600">259.3</p>
              <p className="text-xs text-green-600">+2.1% efici√™ncia</p>
            </div>
            <div className="text-4xl">ÔøΩ</div>
          </div>
        </div>

        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-orange-500">
          <div className="flex items-center justify-between">
            <div>
              <p className="text-sm text-gray-600">Rel√©s de Prote√ß√£o</p>
              <p className="text-3xl font-bold text-orange-600">28</p>
              <p className="text-xs text-green-600">Coordenados RL</p>
            </div>
            <div className="text-4xl">üõ°Ô∏è</div>
          </div>
        </div>
      </div>

      {/* Status da Rede e Alertas */}
      <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
        {/* Status da Rede IEEE 14 */}
        <div className="bg-white p-6 rounded-xl shadow-lg">
          <h3 className="text-xl font-semibold mb-4">üîå Status da Rede IEEE 14-Bus</h3>
          <div className="space-y-4">
            <div className="flex justify-between items-center p-3 bg-green-50 rounded-lg">
              <span className="font-medium">Barras de Transmiss√£o</span>
              <span className="text-green-600 font-bold">14/14 ‚úÖ</span>
            </div>
            <div className="flex justify-between items-center p-3 bg-green-50 rounded-lg">
              <span className="font-medium">Linhas de Transmiss√£o</span>
              <span className="text-green-600 font-bold">20/20 ‚úÖ</span>
            </div>
            <div className="flex justify-between items-center p-3 bg-yellow-50 rounded-lg">
              <span className="font-medium">Transformadores</span>
              <span className="text-yellow-600 font-bold">3/3 ‚ö†Ô∏è</span>
            </div>
            <div className="flex justify-between items-center p-3 bg-green-50 rounded-lg">
              <span className="font-medium">Cargas</span>
              <span className="text-green-600 font-bold">11/11 ‚úÖ</span>
            </div>
          </div>
        </div>

        {/* Alertas Recentes */}
        <div className="bg-white p-6 rounded-xl shadow-lg">
          <h3 className="text-xl font-semibold mb-4">üö® Alertas e Notifica√ß√µes</h3>
          <div className="space-y-3">
            {alerts.map(alert => (
              <div key={alert.id} className={`p-3 rounded-lg border-l-4 ${
                alert.type === 'warning' ? 'bg-yellow-50 border-yellow-400' :
                alert.type === 'info' ? 'bg-blue-50 border-blue-400' :
                'bg-green-50 border-green-400'
              }`}>
                <div className="flex justify-between items-start">
                  <p className="text-sm font-medium">{alert.message}</p>
                  <span className="text-xs text-gray-500">{alert.time}</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>

      {/* Gr√°ficos de Performance */}
      <div className="bg-white p-6 rounded-xl shadow-lg">
        <h3 className="text-xl font-semibold mb-4">üìà Performance do Sistema</h3>
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div className="text-center">
            <div className="text-4xl font-bold text-blue-600 mb-2">98.7%</div>
            <div className="text-sm text-gray-600">Confiabilidade</div>
          </div>
          <div className="text-center">
            <div className="text-4xl font-bold text-green-600 mb-2">15ms</div>
            <div className="text-sm text-gray-600">Tempo de Resposta</div>
          </div>
          <div className="text-center">
            <div className="text-4xl font-bold text-purple-600 mb-2">+23%</div>
            <div className="text-sm text-gray-600">Melhoria RL</div>
          </div>
        </div>
      </div>

      {/* A√ß√µes R√°pidas */}
      <div className="bg-white p-6 rounded-xl shadow-lg">
        <h3 className="text-xl font-semibold mb-4">‚ö° A√ß√µes R√°pidas</h3>
        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
          <button className="p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors">
            <div className="text-2xl mb-2">üß™</div>
            <div className="text-sm font-medium">Nova Simula√ß√£o</div>
          </button>
          <button className="p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors">
            <div className="text-2xl mb-2">üîß</div>
            <div className="text-sm font-medium">Configurar Rel√©s</div>
          </button>
          <button className="p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors">
            <div className="text-2xl mb-2">üìä</div>
            <div className="text-sm font-medium">An√°lise RL</div>
          </button>
          <button className="p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors">
            <div className="text-2xl mb-2">üìã</div>
            <div className="text-sm font-medium">Relat√≥rio IEEE</div>
          </button>
        </div>
      </div>
    </div>
  )
}
